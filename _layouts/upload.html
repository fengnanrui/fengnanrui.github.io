---
layout: modern
---

<div class="upload-page">
    <div class="upload-container">
        <!-- Upload Header -->
        <div class="upload-header">
            <h1 class="upload-title">文档上传</h1>
            <p class="upload-subtitle">上传Markdown文档到您的博客，支持拖拽上传和在线编辑</p>
        </div>
        
        <!-- Upload Restrictions -->
        <div class="upload-restrictions">
            <h3 class="restrictions-title">
                <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
                上传说明
            </h3>
            <ul class="restrictions-list">
                <li class="restriction-item">
                    <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20,6 9,17 4,12"></polyline>
                    </svg>
                    支持 .md 和 .markdown 文件格式
                </li>
                <li class="restriction-item">
                    <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20,6 9,17 4,12"></polyline>
                    </svg>
                    单个文件大小不超过 5MB
                </li>
                <li class="restriction-item">
                    <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20,6 9,17 4,12"></polyline>
                    </svg>
                    文件名将自动格式化为Jekyll文章格式
                </li>
                <li class="restriction-item">
                    <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20,6 9,17 4,12"></polyline>
                    </svg>
                    支持Front Matter元数据编辑
                </li>
            </ul>
        </div>
        
        <!-- Upload Methods Tabs -->
        <div class="upload-tabs">
            <button class="tab-button active" data-tab="file-upload">文件上传</button>
            <button class="tab-button" data-tab="online-editor">在线编辑</button>
            <button class="tab-button" data-tab="github-sync">GitHub同步</button>
        </div>
        
        <!-- File Upload Tab -->
        <div class="tab-content active" id="file-upload">
            <!-- Upload Zone -->
            <div class="upload-zone" id="upload-zone">
                <svg class="upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="7,10 12,15 17,10"></polyline>
                    <line x1="12" y1="15" x2="12" y2="3"></line>
                </svg>
                <h3 class="upload-text">拖拽文件到此处或点击上传</h3>
                <p class="upload-hint">支持 .md 和 .markdown 文件</p>
                <button class="upload-button" type="button">选择文件</button>
                <input type="file" class="file-input" id="file-input" accept=".md,.markdown" multiple>
            </div>
            
            <!-- File List -->
            <div class="file-list" id="file-list" style="display: none;">
                <div class="list-header">
                    <h3 class="list-title">待上传文件</h3>
                    <div class="list-actions">
                        <button class="action-btn" id="clear-all-btn">清空列表</button>
                        <button class="action-btn" id="upload-all-btn">上传全部</button>
                    </div>
                </div>
                <div class="file-items" id="file-items"></div>
            </div>
        </div>
        
        <!-- Online Editor Tab -->
        <div class="tab-content" id="online-editor">
            <div class="editor-container">
                <div class="editor-header">
                    <div class="editor-meta">
                        <input type="text" class="meta-input" id="post-title" placeholder="文章标题" required>
                        <input type="text" class="meta-input" id="post-categories" placeholder="分类 (用逗号分隔)">
                        <input type="text" class="meta-input" id="post-tags" placeholder="标签 (用逗号分隔)">
                        <input type="date" class="meta-input" id="post-date" value="">
                    </div>
                    <div class="editor-actions">
                        <button class="action-btn" id="preview-btn">预览</button>
                        <button class="action-btn" id="save-draft-btn">保存草稿</button>
                        <button class="action-btn" id="publish-btn">发布文章</button>
                    </div>
                </div>
                
                <div class="editor-main">
                    <div class="editor-pane">
                        <textarea class="markdown-editor" id="markdown-editor" placeholder="在此输入Markdown内容..."></textarea>
                    </div>
                    <div class="preview-pane hidden" id="preview-pane">
                        <div class="preview-content" id="preview-content"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- GitHub Sync Tab -->
        <div class="tab-content" id="github-sync">
            <div class="github-config">
                <h3>GitHub配置</h3>
                <p>配置GitHub仓库信息以启用自动同步功能</p>
                
                <div class="config-form">
                    <div class="form-group">
                        <label for="github-token">GitHub Personal Access Token</label>
                        <input type="password" id="github-token" class="form-input" placeholder="ghp_xxxxxxxxxxxx">
                        <small class="form-help">需要repo权限的Personal Access Token</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="github-repo">仓库地址</label>
                        <input type="text" id="github-repo" class="form-input" placeholder="username/repository-name">
                        <small class="form-help">格式：用户名/仓库名</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="posts-path">文章目录</label>
                        <input type="text" id="posts-path" class="form-input" value="_posts" placeholder="_posts">
                        <small class="form-help">Jekyll文章存储目录</small>
                    </div>
                    
                    <div class="form-actions">
                        <button class="action-btn" id="test-connection-btn">测试连接</button>
                        <button class="action-btn" id="save-config-btn">保存配置</button>
                    </div>
                </div>
                
                <div class="sync-status" id="sync-status" style="display: none;">
                    <h4>同步状态</h4>
                    <div class="status-item">
                        <span class="status-label">连接状态:</span>
                        <span class="status-value" id="connection-status">未连接</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">最后同步:</span>
                        <span class="status-value" id="last-sync">从未同步</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Upload Progress Overlay -->
<div class="upload-progress-overlay" id="upload-progress-overlay">
    <div class="progress-header">
        <h4 class="progress-title">上传进度</h4>
        <button class="progress-close" id="progress-close">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>
    </div>
    <div class="progress-items" id="progress-items"></div>
</div>

<!-- Success/Error Messages -->
<div class="message-container" id="message-container"></div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize upload functionality
    const uploadManager = new DocumentUploadManager();
    uploadManager.init();
});

class DocumentUploadManager {
    constructor() {
        this.files = [];
        this.config = this.loadConfig();
        this.currentTab = 'file-upload';
    }
    
    init() {
        this.bindEvents();
        this.loadSavedData();
        this.initializeEditor();
    }
    
    bindEvents() {
        // Tab switching
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', (e) => {
                this.switchTab(e.target.dataset.tab);
            });
        });
        
        // File upload events
        this.bindFileUploadEvents();
        this.bindEditorEvents();
        this.bindGitHubEvents();
    }
    
    bindFileUploadEvents() {
        const uploadZone = document.getElementById('upload-zone');
        const fileInput = document.getElementById('file-input');
        
        // Drag and drop
        uploadZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadZone.classList.add('dragover');
        });
        
        uploadZone.addEventListener('dragleave', () => {
            uploadZone.classList.remove('dragover');
        });
        
        uploadZone.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadZone.classList.remove('dragover');
            this.handleFiles(e.dataTransfer.files);
        });
        
        // File input
        uploadZone.addEventListener('click', () => {
            fileInput.click();
        });
        
        fileInput.addEventListener('change', (e) => {
            this.handleFiles(e.target.files);
        });
        
        // Action buttons
        document.getElementById('clear-all-btn')?.addEventListener('click', () => {
            this.clearAllFiles();
        });
        
        document.getElementById('upload-all-btn')?.addEventListener('click', () => {
            this.uploadAllFiles();
        });
    }
    
    bindEditorEvents() {
        // Set default date
        document.getElementById('post-date').value = new Date().toISOString().split('T')[0];
        
        // Editor actions
        document.getElementById('preview-btn')?.addEventListener('click', () => {
            this.togglePreview();
        });
        
        document.getElementById('save-draft-btn')?.addEventListener('click', () => {
            this.saveDraft();
        });
        
        document.getElementById('publish-btn')?.addEventListener('click', () => {
            this.publishPost();
        });
        
        // Auto-save
        const editor = document.getElementById('markdown-editor');
        if (editor) {
            editor.addEventListener('input', this.debounce(() => {
                this.autoSave();
            }, 2000));
        }
    }
    
    bindGitHubEvents() {
        document.getElementById('test-connection-btn')?.addEventListener('click', () => {
            this.testGitHubConnection();
        });
        
        document.getElementById('save-config-btn')?.addEventListener('click', () => {
            this.saveGitHubConfig();
        });
    }
    
    switchTab(tabId) {
        // Update tab buttons
        document.querySelectorAll('.tab-button').forEach(btn => {
            btn.classList.remove('active');
        });
        document.querySelector(`[data-tab="${tabId}"]`).classList.add('active');
        
        // Update tab content
        document.querySelectorAll('.tab-content').forEach(content => {
            content.classList.remove('active');
        });
        document.getElementById(tabId).classList.add('active');
        
        this.currentTab = tabId;
    }
    
    handleFiles(fileList) {
        const files = Array.from(fileList).filter(file => {
            return file.name.endsWith('.md') || file.name.endsWith('.markdown');
        });
        
        if (files.length === 0) {
            this.showMessage('请选择有效的Markdown文件', 'error');
            return;
        }
        
        files.forEach(file => {
            if (file.size > 5 * 1024 * 1024) { // 5MB limit
                this.showMessage(`文件 ${file.name} 超过5MB限制`, 'error');
                return;
            }
            
            this.addFile(file);
        });
        
        this.updateFileList();
    }
    
    addFile(file) {
        const fileData = {
            id: Date.now() + Math.random(),
            file: file,
            name: file.name,
            size: file.size,
            status: 'pending',
            progress: 0
        };
        
        this.files.push(fileData);
    }
    
    updateFileList() {
        const fileList = document.getElementById('file-list');
        const fileItems = document.getElementById('file-items');
        
        if (this.files.length === 0) {
            fileList.style.display = 'none';
            return;
        }
        
        fileList.style.display = 'block';
        fileItems.innerHTML = this.files.map(file => this.renderFileItem(file)).join('');
        
        // Bind file item events
        this.bindFileItemEvents();
    }
    
    renderFileItem(file) {
        const statusIcon = this.getStatusIcon(file.status);
        const formatSize = (bytes) => {
            const sizes = ['B', 'KB', 'MB'];
            const i = Math.floor(Math.log(bytes) / Math.log(1024));
            return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i];
        };
        
        return `
            <div class="file-item ${file.status}" data-file-id="${file.id}">
                <div class="file-icon markdown">MD</div>
                <div class="file-info">
                    <div class="file-name">${file.name}</div>
                    <div class="file-meta">
                        <div class="meta-item">
                            <svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14,2 14,8 20,8"></polyline>
                            </svg>
                            ${formatSize(file.size)}
                        </div>
                        <div class="meta-item">
                            <svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12,6 12,12 16,14"></polyline>
                            </svg>
                            ${file.status === 'pending' ? '等待上传' : file.status === 'uploading' ? '上传中' : file.status === 'success' ? '上传成功' : '上传失败'}
                        </div>
                    </div>
                    ${file.status === 'uploading' ? `
                        <div class="file-progress">
                            <div class="progress-bar" style="width: ${file.progress}%"></div>
                        </div>
                    ` : ''}
                </div>
                <div class="file-status ${file.status}">
                    ${statusIcon}
                </div>
                <div class="file-actions">
                    ${file.status === 'pending' ? `
                        <button class="action-btn" onclick="uploadManager.uploadFile('${file.id}')" title="上传">
                            <svg class="action-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7,10 12,15 17,10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                        </button>
                    ` : ''}
                    <button class="action-btn danger" onclick="uploadManager.removeFile('${file.id}')" title="删除">
                        <svg class="action-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="3,6 5,6 21,6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                        </svg>
                    </button>
                </div>
            </div>
        `;
    }
    
    getStatusIcon(status) {
        const icons = {
            pending: '<svg class="status-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><polyline points="12,6 12,12 16,14"></polyline></svg>',
            uploading: '<svg class="status-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12a9 9 0 11-6.219-8.56"></path></svg>',
            success: '<svg class="status-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20,6 9,17 4,12"></polyline></svg>',
            error: '<svg class="status-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>'
        };
        return icons[status] || icons.pending;
    }
    
    async uploadFile(fileId) {
        const file = this.files.find(f => f.id == fileId);
        if (!file) return;
        
        file.status = 'uploading';
        file.progress = 0;
        this.updateFileList();
        
        try {
            // Read file content
            const content = await this.readFileContent(file.file);
            const processedContent = this.processMarkdownContent(content, file.name);
            
            // Simulate upload progress
            for (let i = 0; i <= 100; i += 10) {
                file.progress = i;
                this.updateFileList();
                await new Promise(resolve => setTimeout(resolve, 100));
            }
            
            // In a real implementation, this would upload to GitHub
            await this.uploadToGitHub(processedContent, file.name);
            
            file.status = 'success';
            this.showMessage(`文件 ${file.name} 上传成功`, 'success');
            
        } catch (error) {
            file.status = 'error';
            this.showMessage(`文件 ${file.name} 上传失败: ${error.message}`, 'error');
        }
        
        this.updateFileList();
    }
    
    readFileContent(file) {
        return new Promise((resolve, reject) => {
            const reader = new FileReader();
            reader.onload = e => resolve(e.target.result);
            reader.onerror = reject;
            reader.readAsText(file);
        });
    }
    
    processMarkdownContent(content, filename) {
        // Extract or generate front matter
        const frontMatterRegex = /^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/;
        const match = content.match(frontMatterRegex);
        
        let frontMatter, bodyContent;
        
        if (match) {
            frontMatter = match[1];
            bodyContent = match[2];
        } else {
            // Generate front matter
            const title = filename.replace(/\.(md|markdown)$/, '').replace(/[-_]/g, ' ');
            const date = new Date().toISOString().split('T')[0];
            
            frontMatter = `layout: post
title: "${title}"
date: ${date}
categories: []
tags: []`;
            bodyContent = content;
        }
        
        return `---\n${frontMatter}\n---\n\n${bodyContent}`;
    }
    
    async uploadToGitHub(content, filename) {
        // This would be implemented with GitHub API
        // For now, we'll simulate the upload
        return new Promise(resolve => {
            setTimeout(resolve, 1000);
        });
    }
    
    removeFile(fileId) {
        this.files = this.files.filter(f => f.id != fileId);
        this.updateFileList();
    }
    
    clearAllFiles() {
        this.files = [];
        this.updateFileList();
    }
    
    async uploadAllFiles() {
        const pendingFiles = this.files.filter(f => f.status === 'pending');
        
        for (const file of pendingFiles) {
            await this.uploadFile(file.id);
        }
    }
    
    // Editor methods
    initializeEditor() {
        // Initialize markdown editor with syntax highlighting if needed
    }
    
    togglePreview() {
        const editorPane = document.querySelector('.editor-pane');
        const previewPane = document.getElementById('preview-pane');
        const previewBtn = document.getElementById('preview-btn');
        
        if (previewPane.classList.contains('hidden')) {
            // Show preview
            const markdown = document.getElementById('markdown-editor').value;
            const html = this.markdownToHtml(markdown);
            document.getElementById('preview-content').innerHTML = html;
            
            previewPane.classList.remove('hidden');
            previewBtn.textContent = '编辑';
        } else {
            // Show editor
            previewPane.classList.add('hidden');
            previewBtn.textContent = '预览';
        }
    }
    
    markdownToHtml(markdown) {
        // Simple markdown to HTML conversion
        // In a real implementation, you'd use a proper markdown parser
        return markdown
            .replace(/^# (.*$)/gim, '<h1>$1</h1>')
            .replace(/^## (.*$)/gim, '<h2>$1</h2>')
            .replace(/^### (.*$)/gim, '<h3>$1</h3>')
            .replace(/\*\*(.*)\*\*/gim, '<strong>$1</strong>')
            .replace(/\*(.*)\*/gim, '<em>$1</em>')
            .replace(/\n/gim, '<br>');
    }
    
    saveDraft() {
        const postData = this.getPostData();
        localStorage.setItem('draft_post', JSON.stringify(postData));
        this.showMessage('草稿已保存', 'success');
    }
    
    async publishPost() {
        const postData = this.getPostData();
        
        if (!postData.title.trim()) {
            this.showMessage('请输入文章标题', 'error');
            return;
        }
        
        if (!postData.content.trim()) {
            this.showMessage('请输入文章内容', 'error');
            return;
        }
        
        try {
            const filename = this.generateFilename(postData.title, postData.date);
            const content = this.generatePostContent(postData);
            
            await this.uploadToGitHub(content, filename);
            
            this.showMessage('文章发布成功', 'success');
            this.clearEditor();
            
        } catch (error) {
            this.showMessage(`发布失败: ${error.message}`, 'error');
        }
    }
    
    getPostData() {
        return {
            title: document.getElementById('post-title').value,
            categories: document.getElementById('post-categories').value.split(',').map(c => c.trim()).filter(c => c),
            tags: document.getElementById('post-tags').value.split(',').map(t => t.trim()).filter(t => t),
            date: document.getElementById('post-date').value,
            content: document.getElementById('markdown-editor').value
        };
    }
    
    generateFilename(title, date) {
        const slug = title.toLowerCase()
            .replace(/[^a-z0-9\s-]/g, '')
            .replace(/\s+/g, '-')
            .replace(/-+/g, '-')
            .trim('-');
        
        return `${date}-${slug}.md`;
    }
    
    generatePostContent(postData) {
        const frontMatter = `layout: post
title: "${postData.title}"
date: ${postData.date}
categories: [${postData.categories.map(c => `"${c}"`).join(', ')}]
tags: [${postData.tags.map(t => `"${t}"`).join(', ')}]`;
        
        return `---\n${frontMatter}\n---\n\n${postData.content}`;
    }
    
    clearEditor() {
        document.getElementById('post-title').value = '';
        document.getElementById('post-categories').value = '';
        document.getElementById('post-tags').value = '';
        document.getElementById('post-date').value = new Date().toISOString().split('T')[0];
        document.getElementById('markdown-editor').value = '';
        localStorage.removeItem('draft_post');
    }
    
    autoSave() {
        this.saveDraft();
    }
    
    // GitHub configuration methods
    async testGitHubConnection() {
        const token = document.getElementById('github-token').value;
        const repo = document.getElementById('github-repo').value;
        
        if (!token || !repo) {
            this.showMessage('请填写GitHub Token和仓库地址', 'error');
            return;
        }
        
        try {
            // Test GitHub API connection
            const response = await fetch(`https://api.github.com/repos/${repo}`, {
                headers: {
                    'Authorization': `token ${token}`,
                    'Accept': 'application/vnd.github.v3+json'
                }
            });
            
            if (response.ok) {
                this.showMessage('GitHub连接测试成功', 'success');
                document.getElementById('connection-status').textContent = '已连接';
            } else {
                throw new Error('连接失败');
            }
            
        } catch (error) {
            this.showMessage(`GitHub连接测试失败: ${error.message}`, 'error');
            document.getElementById('connection-status').textContent = '连接失败';
        }
    }
    
    saveGitHubConfig() {
        const config = {
            token: document.getElementById('github-token').value,
            repo: document.getElementById('github-repo').value,
            postsPath: document.getElementById('posts-path').value || '_posts'
        };
        
        localStorage.setItem('github_config', JSON.stringify(config));
        this.config = config;
        this.showMessage('GitHub配置已保存', 'success');
        
        document.getElementById('sync-status').style.display = 'block';
    }
    
    loadConfig() {
        const saved = localStorage.getItem('github_config');
        return saved ? JSON.parse(saved) : {};
    }
    
    loadSavedData() {
        // Load GitHub config
        if (this.config.token) {
            document.getElementById('github-token').value = this.config.token;
        }
        if (this.config.repo) {
            document.getElementById('github-repo').value = this.config.repo;
        }
        if (this.config.postsPath) {
            document.getElementById('posts-path').value = this.config.postsPath;
        }
        
        // Load draft
        const draft = localStorage.getItem('draft_post');
        if (draft) {
            const postData = JSON.parse(draft);
            document.getElementById('post-title').value = postData.title || '';
            document.getElementById('post-categories').value = postData.categories?.join(', ') || '';
            document.getElementById('post-tags').value = postData.tags?.join(', ') || '';
            document.getElementById('post-date').value = postData.date || new Date().toISOString().split('T')[0];
            document.getElementById('markdown-editor').value = postData.content || '';
        }
    }
    
    showMessage(message, type = 'info') {
        const container = document.getElementById('message-container');
        const messageEl = document.createElement('div');
        messageEl.className = `message message-${type}`;
        messageEl.innerHTML = `
            <span class="message-text">${message}</span>
            <button class="message-close">&times;</button>
        `;
        
        container.appendChild(messageEl);
        
        // Auto remove after 5 seconds
        setTimeout(() => {
            if (messageEl.parentNode) {
                messageEl.parentNode.removeChild(messageEl);
            }
        }, 5000);
        
        // Close button
        messageEl.querySelector('.message-close').addEventListener('click', () => {
            if (messageEl.parentNode) {
                messageEl.parentNode.removeChild(messageEl);
            }
        });
    }
    
    debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
            const later = () => {
                clearTimeout(timeout);
                func(...args);
            };
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
        };
    }
}

// Make uploadManager globally available
let uploadManager;
</script>

<style>
/* Upload page specific styles */
.upload-tabs {
    display: flex;
    border-bottom: 1px solid var(--color-border);
    margin-bottom: var(--space-xl);
}

.tab-button {
    background: none;
    border: none;
    padding: var(--space-md) var(--space-lg);
    cursor: pointer;
    color: var(--color-text-secondary);
    font-weight: var(--font-weight-medium);
    border-bottom: 2px solid transparent;
    transition: all var(--transition-fast);
}

.tab-button:hover {
    color: var(--color-primary);
}

.tab-button.active {
    color: var(--color-primary);
    border-bottom-color: var(--color-primary);
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}

/* Editor styles */
.editor-container {
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    overflow: hidden;
}

.editor-header {
    background: var(--color-surface);
    padding: var(--space-lg);
    border-bottom: 1px solid var(--color-border);
}

.editor-meta {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr;
    gap: var(--space-md);
    margin-bottom: var(--space-md);
}

@media (max-width: 768px) {
    .editor-meta {
        grid-template-columns: 1fr;
    }
}

.meta-input {
    @include input-field;
    font-size: var(--font-size-sm);
}

.editor-actions {
    display: flex;
    gap: var(--space-sm);
    justify-content: flex-end;
}

.editor-main {
    display: grid;
    grid-template-columns: 1fr 1fr;
    min-height: 500px;
}

.editor-pane {
    border-right: 1px solid var(--color-border);
}

.markdown-editor {
    width: 100%;
    height: 100%;
    border: none;
    padding: var(--space-lg);
    font-family: var(--font-family-mono);
    font-size: var(--font-size-sm);
    line-height: var(--line-height-relaxed);
    background: var(--color-background);
    color: var(--color-text-primary);
    resize: none;
    outline: none;
}

.preview-pane {
    padding: var(--space-lg);
    background: var(--color-surface);
    overflow-y: auto;
}

.preview-pane.hidden {
    display: none;
}

.preview-content {
    line-height: var(--line-height-relaxed);
}

/* GitHub config styles */
.github-config {
    max-width: 600px;
}

.config-form {
    margin-top: var(--space-lg);
}

.form-group {
    margin-bottom: var(--space-lg);
}

.form-group label {
    display: block;
    font-weight: var(--font-weight-medium);
    color: var(--color-text-primary);
    margin-bottom: var(--space-sm);
}

.form-input {
    @include input-field;
    width: 100%;
}

.form-help {
    display: block;
    font-size: var(--font-size-xs);
    color: var(--color-text-muted);
    margin-top: var(--space-xs);
}

.form-actions {
    display: flex;
    gap: var(--space-sm);
}

.sync-status {
    margin-top: var(--space-xl);
    padding: var(--space-lg);
    background: var(--color-surface);
    border-radius: var(--radius-lg);
}

.status-item {
    display: flex;
    justify-content: space-between;
    padding: var(--space-sm) 0;
    border-bottom: 1px solid var(--color-border);
}

.status-item:last-child {
    border-bottom: none;
}

.status-label {
    font-weight: var(--font-weight-medium);
    color: var(--color-text-primary);
}

.status-value {
    color: var(--color-text-secondary);
}

/* Message styles */
.message-container {
    position: fixed;
    top: var(--space-lg);
    right: var(--space-lg);
    z-index: var(--z-tooltip);
    max-width: 400px;
}

.message {
    background: var(--color-surface-elevated);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--space-md);
    margin-bottom: var(--space-sm);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    box-shadow: var(--shadow-lg);
    animation: slideInRight var(--transition-normal) ease-out;
}

.message-success {
    border-left: 4px solid var(--color-success);
}

.message-error {
    border-left: 4px solid var(--color-error);
}

.message-info {
    border-left: 4px solid var(--color-info);
}

.message-text {
    flex: 1;
    font-size: var(--font-size-sm);
    color: var(--color-text-primary);
}

.message-close {
    background: none;
    border: none;
    color: var(--color-text-secondary);
    cursor: pointer;
    font-size: var(--font-size-lg);
    padding: var(--space-xs);
    border-radius: var(--radius-sm);
}

.message-close:hover {
    background: var(--color-surface);
}

@keyframes slideInRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}
</style>

